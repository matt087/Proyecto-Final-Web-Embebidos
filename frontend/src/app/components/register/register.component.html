<div class="main-vertical">
  <form [formGroup]="userForm" (ngSubmit)="submitForm()">
    <div class="section-horizontal">
      <label for="name">Nombre:</label>
      <input id="name" formControlName="name" />
    </div>
    <div *ngIf="userForm.controls['name'].invalid && (userForm.controls['name'].dirty || userForm.controls['name'].touched)">
      <div class="error" *ngIf="userForm.controls['name'].errors?.['required']">El nombre es requerido.</div>
      <div class="error" *ngIf="userForm.controls['name'].errors?.['noNumbers']">El nombre no debe contener números.</div>
    </div>

    <div class="section-horizontal">
      <label for="email">Correo electrónico:</label>
      <input id="email" formControlName="email" />
    </div>
    <div *ngIf="userForm.controls['email'].invalid && (userForm.controls['email'].dirty || userForm.controls['email'].touched)">
      <div class="error" *ngIf="userForm.controls['email'].errors?.['required']">El correo es requerido.</div>
      <div class="error" *ngIf="userForm.controls['email'].errors?.['email']">Correo electrónico inválido.</div>
      <div class="error" *ngIf="userForm.controls['email'].errors?.['emailDomain']">El correo debe pertenecer al dominio est.ups.edu.ec.</div>
    </div>

    <div class="section-horizontal">
      <label for="password">Contraseña:</label>
      <input id="password" type="password" formControlName="password" />
    </div>
    <div *ngIf="userForm.controls['password'].invalid && (userForm.controls['password'].dirty || userForm.controls['password'].touched)">
      <div class="error" *ngIf="userForm.controls['password'].errors?.['required']">La contraseña es requerida.</div>
      <div class="error" *ngIf="userForm.controls['password'].errors?.['minlength']">La contraseña debe tener al menos 6 caracteres.</div>
      <div class="error" *ngIf="userForm.controls['password'].errors?.['passwordStrength']">La contraseña debe contener tanto letras como números.</div>
    </div>

    <div class="section-horizontal">
      <label for="confirmPassword">Confirmar contraseña:</label>
      <input id="confirmPassword" type="password" formControlName="confirmPassword" />
    </div>
    <div *ngIf="userForm.hasError('passwordMismatch') && (userForm.controls['confirmPassword'].dirty || userForm.controls['confirmPassword'].touched)">
      <div class="error">Las contraseñas no coinciden.</div>
    </div>

    <div class="section-horizontal">
      <label for="role">Rol:</label>
      <select id="role" formControlName="role">
        <option value="admin">Administrador</option>
        <option value="operator">Operador</option>
      </select>
    </div>
    <div *ngIf="userForm.controls['role'].invalid && (userForm.controls['role'].dirty || userForm.controls['role'].touched)">
      <div class="error" *ngIf="userForm.controls['role'].errors?.['required']">El rol es requerido.</div>
      <div class="error" *ngIf="userForm.controls['role'].errors?.['noNumbers']">El rol no debe contener números.</div>
    </div>

    <button type="submit" [disabled]="userForm.invalid">Crear Usuario</button>
  </form>
</div>
